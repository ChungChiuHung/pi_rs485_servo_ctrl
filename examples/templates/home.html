<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Servo Control</title>
        <link rel="stylesheet" href='../static/style.css'/>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    </head>
<body>
    <div class="navbar">
        <a href="/">Home</a>
        <a href="/index">Config</a>
    </div>
    <div class="main">
        <h1>Walking Lamp Control</h1>
        <div class="button-container">
            <button class="button" id="start">START</button>
            <span id="start_status"></span>
        </div>
        <div class="button-container">
            <button class="button" id="stop">STOP</button>
            <span id="stop_status"></span>
        </div>
        <script>
            $(document).ready(function() {
                $('#start').click(function(){
                    $.ajax({
                        url:'/action',
                        type: 'POST',
                        contentType: 'application/json',
                        data: JSON.stringify({action_type:'motionStart'}),
                        success: function(response){
                            console.log('Success:', response);
                        },
                        error:function(error){
                            console.log('Error',error)
                        }
                    });
                });

                $('#stop').click(function(){
                    $.ajax({
                        url:'/action',
                        type:'POST',
                        contentType: 'application/json',
                        data: JSON.stringify({action_type:'motionStop'}),
                        success: function(response){
                            console.log('Success', response);
                        },
                        error: function(error) {
                            console.log('Error', error)
                        }
                    });
                });
            });
        </script>
    </div>
</body>
</html>
